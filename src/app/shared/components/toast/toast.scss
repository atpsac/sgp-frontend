/* =========================================================
   TOAST MODAL CON ANIMACIONES TIPO SWEETALERT (LOOP)
   Archivo: shared/components/toast/toast.scss
   ======================================================= */

/* ===== COLORES BASE ===== */
$uxs-success: #16a34a;
$uxs-success-bg: #dcfce7;

$uxs-info: #0ea5e9;
$uxs-info-bg: #e0f2fe;

$uxs-warning: #f59e0b;
$uxs-warning-bg: #fef3c7;

$uxs-error: #ef4444;
$uxs-error-bg: #fee2e2;

/* =========================================================
   ANIMACIONES
   ======================================================= */

/* Pop general del modal (SOLO una vez) */
@keyframes uxs-modal-pop {
  0% {
    opacity: 0;
    transform: scale(0.8) translateY(10px);
  }
  45% {
    opacity: 1;
    transform: scale(1.03) translateY(0);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Pop inicial del icono */
@keyframes uxs-icon-pop {
  0% {
    transform: scale(0);
  }
  60% {
    transform: scale(1.15);
  }
  100% {
    transform: scale(1);
  }
}

/* Pulso circular (anillos que se expanden) */
@keyframes uxs-icon-pulse-ring {
  0% {
    opacity: 0;
    transform: scale(1);
  }
  60% {
    opacity: 0.5;
  }
  100% {
    opacity: 0;
    transform: scale(1.8);
  }
}

/* “Respiración” suave (sube/baja un poquito) */
@keyframes uxs-icon-breathe {
  0%,
  100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(-2px) scale(1.06);
  }
}

/* Wobble suave (advertencia/pregunta) */
@keyframes uxs-icon-wobble {
  0%,
  100% {
    transform: translateX(0) rotate(0deg);
  }
  20% {
    transform: translateX(-2px) rotate(-4deg);
  }
  40% {
    transform: translateX(2px) rotate(4deg);
  }
  60% {
    transform: translateX(-1px) rotate(-3deg);
  }
  80% {
    transform: translateX(1px) rotate(3deg);
  }
}

/* Shake (error) más suave para que no maree en loop */
@keyframes uxs-icon-shake {
  0%,
  100% {
    transform: translateX(0);
  }
  20% {
    transform: translateX(-3px);
  }
  40% {
    transform: translateX(3px);
  }
  60% {
    transform: translateX(-2px);
  }
  80% {
    transform: translateX(2px);
  }
}

/* =========================================================
   MODAL BASE
   ======================================================= */
.uxs-modal {
  position: relative;
  padding: 26px 26px 24px 26px;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 18px 45px rgba(15, 23, 42, 0.25);
//   max-width: 440px;
  animation: uxs-modal-pop 0.28s ease-out;
  transform-origin: center;
}

/* Botón cerrar */
.uxs-close {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 36px;
  height: 36px;
  border-radius: 10px;
  border: 0;
  background: #f3f4f6;
  color: #4b5563;
  font-size: 22px;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: 0.15s;

  &:hover {
    background: #e5e7eb;
    transform: translateY(-1px);
  }

  &:active {
    transform: translateY(0);
  }
}

/* HEADER */
.uxs-header {
  padding-right: 40px;
  margin-bottom: 10px;
}

.uxs-title {
  margin: 0;
  font-weight: 700;
  font-size: 22px;
  color: #fd4a29; // default
}

.uxs-sub {
  margin: 6px 0 0 0;
  color: #6b7280;
  font-size: 14px;
}

/* Chip */
.uxs-chip {
  margin-top: 10px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  border-radius: 999px;
  padding: 6px 12px;
  background: #f6f7ff;
  color: #0a3df3;
  border: 1px solid #dfe7ff;

  .material-symbols-rounded {
    font-size: 18px;
  }
}

/* =========================================================
   ICONO CENTRAL + MENSAJE (tipo SweetAlert)
   ======================================================= */
.uxs-main {
  margin-top: 18px;          /* más separación con el título */
  padding-top: 4px;
  padding-bottom: 4px;       /* un poco de aire hacia abajo */
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;                 /* MÁS espacio entre icono y texto */
  text-align: center;
}

.uxs-main__icon {
  width: 64px;
  height: 64px;
  border-radius: 999px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: visible;

  /* Pop inicial para TODOS los tipos */
  animation: uxs-icon-pop 0.45s ease-out both;

  .material-symbols-rounded {
    font-size: 32px;
    line-height: 1;
  }

  /* Anillos de pulso (se activan por tipo) */
  &::before,
  &::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    border: 2px solid currentColor;
    opacity: 0;
    pointer-events: none;
  }
}

/* Mensaje centrado */
.uxs-main__message {
  margin: 0;
  font-size: 15px;
  font-weight: 600;
  color: #111827;
}

/* =========================================================
   VARIANTES POR TIPO (con LOOP)
   ======================================================= */

/* ---- SUCCESS ---- */
.uxs-modal--success {
  .uxs-title {
    color: $uxs-success;
  }

  .uxs-main__icon {
    background: $uxs-success-bg;
    color: $uxs-success;

    /* Pop una vez + respiración en loop */
    animation:
      uxs-icon-pop 0.45s ease-out both,
      uxs-icon-breathe 1.6s ease-in-out 0.6s infinite;

    &::before,
    &::after {
      opacity: 0.7;
      animation: uxs-icon-pulse-ring 1.4s ease-out 0.6s infinite;
    }

    &::after {
      animation-delay: 1s;
    }
  }
}

/* ---- INFO ---- */
.uxs-modal--info {
  .uxs-title {
    color: $uxs-info;
  }

  .uxs-main__icon {
    background: $uxs-info-bg;
    color: $uxs-info;

    animation:
      uxs-icon-pop 0.45s ease-out both,
      uxs-icon-breathe 1.8s ease-in-out 0.6s infinite;

    &::before,
    &::after {
      opacity: 0.7;
      animation: uxs-icon-pulse-ring 1.5s ease-out 0.6s infinite;
    }

    &::after {
      animation-delay: 1.1s;
    }
  }
}

/* ---- WARNING & QUESTION ---- */
.uxs-modal--warning,
.uxs-modal--question {
  .uxs-title {
    color: $uxs-warning;
  }

  .uxs-main__icon {
    background: $uxs-warning-bg;
    color: darken($uxs-warning, 10%);

    /* Pop inicial + wobble en loop */
    animation:
      uxs-icon-pop 0.4s ease-out both,
      uxs-icon-wobble 1.5s ease-out 0.5s infinite;

    &::before,
    &::after {
      opacity: 0.7;
      animation: uxs-icon-pulse-ring 1.6s ease-out 0.5s infinite;
    }

    &::after {
      animation-delay: 1s;
    }
  }
}

/* ---- ERROR ---- */
.uxs-modal--error {
  .uxs-title {
    color: $uxs-error;
  }

  .uxs-main__icon {
    background: $uxs-error-bg;
    color: $uxs-error;

    /* Pop + shake suave en loop */
    animation:
      uxs-icon-pop 0.35s ease-out both,
      uxs-icon-shake 1.4s ease-out 0.5s infinite;

    &::before,
    &::after {
      opacity: 0.7;
      animation: uxs-icon-pulse-ring 1.3s ease-out 0.5s infinite;
    }

    &::after {
      animation-delay: 0.9s;
    }
  }
}

/* =========================================================
   CAJA INFORMATIVA OPCIONAL
   ======================================================= */
.uxs-warning {
  display: flex;
  gap: 10px;
  align-items: flex-start;
  padding: 12px;
  border-radius: 12px;
  margin-top: 18px;
  background: #f0f9ff;
  border: 1px solid #cfe8ff;
  color: #0b3a82;

  .material-symbols-rounded {
    font-size: 20px;
  }

  &.uxs-warning--warning,
  &.uxs-warning--question {
    background: #fff7ed;
    border-color: #ffe3c1;
    color: #7a3a00;
  }

  &.uxs-warning--success {
    background: #ecfdf3;
    border-color: #bbf7d0;
    color: #166534;
  }

  &.uxs-warning--error {
    background: #fef2f2;
    border-color: #fecaca;
    color: #991b1b;
  }
}

.uxs-warning__title {
  font-weight: 700;
  margin-bottom: 2px;
}

.uxs-warning__text {
  font-size: 13px;
  color: inherit;
}

/* =========================================================
   FOOTER + BOTONES
   ======================================================= */
.uxs-footer {
  margin-top: 22px;            /* un poco más de espacio con el texto */
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

.uxs-btn {
  border: 0;
  border-radius: 12px;
  padding: 10px 18px;
  font-weight: 600;
  font-size: 14px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  cursor: pointer;
  transition: transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease;

  &:active {
    transform: translateY(1px) scale(0.99);
    box-shadow: none;
  }
}

.uxs-btn--ghost {
  background: #eeeeef;
  color: #6b7280;

  &:hover:not(:disabled) {
    background: #e6e7ea;
  }
}

/* Botón principal según tipo */
.uxs-btn--ok {
  color: #fff;
  background: linear-gradient(90deg, #22c55e 0%, #34d399 100%);
  box-shadow: 0 6px 16px rgba(34, 197, 94, 0.25);

  &:hover:not(:disabled) {
    filter: brightness(1.03);
  }
}

.uxs-btn--warn {
  color: #fff;
  background: linear-gradient(90deg, #f59e0b 0%, #f97316 100%);
  box-shadow: 0 6px 16px rgba(245, 158, 11, 0.25);

  &:hover:not(:disabled) {
    filter: brightness(1.03);
  }
}

.uxs-btn--error {
  color: #fff;
  background: linear-gradient(90deg, #ef4444 0%, #f97373 100%);
  box-shadow: 0 6px 16px rgba(239, 68, 68, 0.25);

  &:hover:not(:disabled) {
    filter: brightness(1.03);
  }
}

/* =========================================================
   OVERLAY DE CARGA
   ======================================================= */
.uxs-loading {
  position: absolute;
  inset: 0;
  background: rgba(255, 255, 255, 0.65);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 5;
  border-radius: 16px;
}
